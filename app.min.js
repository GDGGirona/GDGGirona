const _0x4f408d=_0x36cb;(function(_0xb2931f,_0x579d57){const _0x5b3cdb=_0x36cb,_0x2b98c2=_0xb2931f();while(!![]){try{const _0x1e1941=parseInt(_0x5b3cdb(0x1a3))/0x1*(-parseInt(_0x5b3cdb(0x18e))/0x2)+-parseInt(_0x5b3cdb(0x1db))/0x3*(-parseInt(_0x5b3cdb(0x193))/0x4)+parseInt(_0x5b3cdb(0x1da))/0x5+-parseInt(_0x5b3cdb(0x1c8))/0x6*(-parseInt(_0x5b3cdb(0x1a8))/0x7)+parseInt(_0x5b3cdb(0x1b3))/0x8*(parseInt(_0x5b3cdb(0x19c))/0x9)+-parseInt(_0x5b3cdb(0x190))/0xa*(-parseInt(_0x5b3cdb(0x1bf))/0xb)+-parseInt(_0x5b3cdb(0x1d1))/0xc;if(_0x1e1941===_0x579d57)break;else _0x2b98c2['push'](_0x2b98c2['shift']());}catch(_0xf70314){_0x2b98c2['push'](_0x2b98c2['shift']());}}}(_0x59c4,0x9998c));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js';function _0x59c4(){const _0x4b03ee=['preventDefault','1496160sgpgmR','stringify','userInfo','errorMessage','remove','email','redeemEventForm','className','data','27kSvmKD','redeemEventContainer','Evento\x20canjeado\x20exitosamente.\x0aHas\x20ganado\x20','codigoEvento','event','1005196040785','get','35pBflFL','parse','head\x20>\x20title','\x20no\x20encontrado.','id_evento','128177RlOhsL','Evento\x20con\x20ID\x20','?i=','docs','Error\x20al\x20decodificar\x20o\x20parsear\x20el\x20valor\x20de\x20\x27i\x27:','location','appendChild','querySelector','getElementById','1:1005196040785:web:7720b18f98ef552631b670','innerText','360760vuembC','#loginForm','usuarios','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Puntos:</strong>\x20','descripcion','href','<p>No\x20hay\x20eventos\x20asistidos</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Fecha\x20del\x20Evento:</strong>\x20','exists','</p>\x0a\x20\x20\x20\x20\x20\x20','block','eventos','7799EkZVmI','toLocaleDateString','toDate','es-ES','text','error','empty','textContent','userName','6SFAuwk','fecha','style','warn','uuid','origin','puntos','div','nombreUsuario','19089696pZuAzG','submit','value','userEmail','pathname','Bienvenid@,\x20','innerHTML','username','\x20puntos.','5697275Vuwixx','9XRFaFI','has','gdggirona2024','display','eventHistory','Código\x20de\x20evento\x20no\x20válido.','52116sATwZF','asistencia','10110aphHTa','<h2>Historial\x20de\x20Eventos\x20Asistidos</h2>'];_0x59c4=function(){return _0x4b03ee;};return _0x59c4();}import{getAnalytics}from'https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js';import{getAuth}from'https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js';function _0x36cb(_0x27e0d7,_0x2953f7){const _0x59c4a8=_0x59c4();return _0x36cb=function(_0x36cbb9,_0x34377a){_0x36cbb9=_0x36cbb9-0x18a;let _0x331539=_0x59c4a8[_0x36cbb9];return _0x331539;},_0x36cb(_0x27e0d7,_0x2953f7);}import{getFirestore,collection,doc,setDoc,query,where,getDocs,addDoc,getDoc,updateDoc}from'https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js';const firebaseConfig={'apiKey':'AIzaSyDKyHhgGOyjjME-iTfKX37j3DCt4v-m-6I','authDomain':'gdggirona2024.firebaseapp.com','projectId':_0x4f408d(0x18a),'storageBucket':'gdggirona2024.firebasestorage.app','messagingSenderId':_0x4f408d(0x1a1),'appId':_0x4f408d(0x1b1)},app=initializeApp(firebaseConfig),db=getFirestore(app);let currentUserUUID='';async function mostrarHistorialYTotalPuntos(_0x469a44){const _0x3f0dbc=_0x4f408d,_0x3e08c4=document[_0x3f0dbc(0x1b0)](_0x3f0dbc(0x18c));let _0x278654=0x0;const _0x2a56fd=query(collection(db,_0x3f0dbc(0x18f)),where('id_usuario','==',_0x469a44)),_0x594750=await getDocs(_0x2a56fd);if(_0x594750['empty']){_0x3e08c4['innerHTML']=_0x3f0dbc(0x1b9);return;}_0x3e08c4[_0x3f0dbc(0x1d7)]=_0x3f0dbc(0x191);for(const _0x8eb7ef of _0x594750[_0x3f0dbc(0x1ab)]){const _0x1b8cb4=_0x8eb7ef['data']();_0x278654+=_0x1b8cb4[_0x3f0dbc(0x1ce)];const _0x142910=await getDoc(doc(db,_0x3f0dbc(0x1be),_0x1b8cb4[_0x3f0dbc(0x1a7)]));if(_0x142910[_0x3f0dbc(0x1bb)]()){const _0x38a191=_0x142910['data'](),_0x2a08df=document['createElement'](_0x3f0dbc(0x1cf));_0x2a08df[_0x3f0dbc(0x19a)]=_0x3f0dbc(0x1a0),_0x2a08df[_0x3f0dbc(0x1d7)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Descripción\x20del\x20Evento:</strong>\x20'+_0x38a191[_0x3f0dbc(0x1b7)]+_0x3f0dbc(0x1ba)+_0x38a191[_0x3f0dbc(0x1c9)][_0x3f0dbc(0x1c1)]()[_0x3f0dbc(0x1c0)](_0x3f0dbc(0x1c2))+_0x3f0dbc(0x1b6)+_0x1b8cb4['puntos']+_0x3f0dbc(0x1bc),_0x3e08c4[_0x3f0dbc(0x1ae)](_0x2a08df);}else console[_0x3f0dbc(0x1cb)](_0x3f0dbc(0x1a9)+_0x1b8cb4[_0x3f0dbc(0x1a7)]+_0x3f0dbc(0x1a6));}document[_0x3f0dbc(0x1b0)]('totalPoints')[_0x3f0dbc(0x1c6)]=_0x278654,_0x3e08c4[_0x3f0dbc(0x1ca)][_0x3f0dbc(0x18b)]='block';}async function iniciarSesionDesdeURL(){const _0x23dafb=_0x4f408d,_0x4d5009=new URLSearchParams(window[_0x23dafb(0x1ad)]['search']);if(_0x4d5009[_0x23dafb(0x1dc)]('i')){const _0x505a93=_0x4d5009[_0x23dafb(0x1a2)]('i');try{const _0x4116d5=atob(_0x505a93),_0xcea32c=JSON[_0x23dafb(0x1a4)](_0x4116d5),_0x3d1c89=_0xcea32c[_0x23dafb(0x1d8)],_0x458e67=_0xcea32c[_0x23dafb(0x198)],_0x57213a=query(collection(db,_0x23dafb(0x1b5)),where('nombreUsuario','==',_0x3d1c89),where(_0x23dafb(0x198),'==',_0x458e67)),_0x286dbd=await getDocs(_0x57213a);if(_0x286dbd[_0x23dafb(0x1c5)])document[_0x23dafb(0x1b0)](_0x23dafb(0x196))[_0x23dafb(0x1ca)][_0x23dafb(0x18b)]=_0x23dafb(0x1bd);else{const _0x442ce3=_0x286dbd[_0x23dafb(0x1ab)][0x0],_0x5d36eb=_0x442ce3[_0x23dafb(0x19b)]();currentUserUUID=_0x5d36eb['uuid'],document[_0x23dafb(0x1b0)](_0x23dafb(0x1cc))['textContent']=_0x5d36eb[_0x23dafb(0x1cc)],document['getElementById'](_0x23dafb(0x1d4))[_0x23dafb(0x1c6)]=_0x5d36eb[_0x23dafb(0x198)],document[_0x23dafb(0x1b0)](_0x23dafb(0x1c7))[_0x23dafb(0x1c6)]=_0x5d36eb[_0x23dafb(0x1d0)],document[_0x23dafb(0x1b0)](_0x23dafb(0x195))[_0x23dafb(0x1ca)][_0x23dafb(0x18b)]=_0x23dafb(0x1bd),document[_0x23dafb(0x1b0)](_0x23dafb(0x19d))[_0x23dafb(0x1ca)][_0x23dafb(0x18b)]=_0x23dafb(0x1bd);let _0x2fcf35=_0x23dafb(0x1d6)+_0x5d36eb[_0x23dafb(0x1d0)];document[_0x23dafb(0x1af)]('body\x20>\x20div\x20>\x20h1')[_0x23dafb(0x1b2)]=_0x2fcf35,document[_0x23dafb(0x1af)](_0x23dafb(0x1a5))[_0x23dafb(0x1c3)]=_0x2fcf35,document['querySelector'](_0x23dafb(0x1b4))[_0x23dafb(0x197)](),await mostrarHistorialYTotalPuntos(currentUserUUID);}}catch(_0x476f0){console[_0x23dafb(0x1c4)](_0x23dafb(0x1ac),_0x476f0);}}}iniciarSesionDesdeURL(),document['getElementById']('loginForm')['addEventListener'](_0x4f408d(0x1d2),async _0x585ed8=>{const _0x3b3b5e=_0x4f408d;_0x585ed8[_0x3b3b5e(0x192)]();const _0x1cf541=document[_0x3b3b5e(0x1b0)](_0x3b3b5e(0x1d8))[_0x3b3b5e(0x1d3)],_0x512f0a=document[_0x3b3b5e(0x1b0)](_0x3b3b5e(0x198))[_0x3b3b5e(0x1d3)],_0x502414=query(collection(db,_0x3b3b5e(0x1b5)),where(_0x3b3b5e(0x1d0),'==',_0x1cf541),where('email','==',_0x512f0a)),_0x513574=await getDocs(_0x502414);if(_0x513574['empty'])document[_0x3b3b5e(0x1b0)](_0x3b3b5e(0x196))[_0x3b3b5e(0x1ca)][_0x3b3b5e(0x18b)]=_0x3b3b5e(0x1bd);else{const _0x2aec27=_0x513574[_0x3b3b5e(0x1ab)][0x0],_0x77ed29=_0x2aec27['data']();currentUserUUID=_0x77ed29[_0x3b3b5e(0x1cc)];const _0x12ae65={'uuid':_0x77ed29[_0x3b3b5e(0x1cc)],'username':_0x77ed29[_0x3b3b5e(0x1d0)],'email':_0x77ed29[_0x3b3b5e(0x198)]},_0x11c8b0=btoa(JSON[_0x3b3b5e(0x194)](_0x12ae65)),_0x26319f=''+window[_0x3b3b5e(0x1ad)][_0x3b3b5e(0x1cd)]+window['location'][_0x3b3b5e(0x1d5)]+_0x3b3b5e(0x1aa)+_0x11c8b0;window['location'][_0x3b3b5e(0x1b8)]=_0x26319f;}}),document['getElementById'](_0x4f408d(0x199))['addEventListener'](_0x4f408d(0x1d2),async _0x284bdb=>{const _0x5b8a77=_0x4f408d;_0x284bdb['preventDefault']();const _0x1a45a5=document['getElementById']('codigoEvento')[_0x5b8a77(0x1d3)],_0x23e3f6=query(collection(db,'eventos'),where(_0x5b8a77(0x19f),'==',_0x1a45a5)),_0x57d0ec=await getDocs(_0x23e3f6);if(_0x57d0ec[_0x5b8a77(0x1c5)]){alert(_0x5b8a77(0x18d));return;}const _0x33d11f=_0x57d0ec[_0x5b8a77(0x1ab)][0x0],_0x33ccea=_0x33d11f[_0x5b8a77(0x19b)]();try{await addDoc(collection(db,'asistencia'),{'id_evento':_0x33d11f['id'],'id_usuario':currentUserUUID,'puntos':_0x33ccea[_0x5b8a77(0x1ce)]}),alert(_0x5b8a77(0x19e)+_0x33ccea['puntos']+_0x5b8a77(0x1d9)),await mostrarHistorialYTotalPuntos(currentUserUUID);}catch(_0x37f5dc){console['error']('Error\x20al\x20registrar\x20asistencia:',_0x37f5dc);}});